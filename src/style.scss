@tailwind base;
@tailwind components;
@tailwind utilities;

.prose {
  .anchor {
    @apply absolute invisible no-underline;

    margin-left: -1em;
    padding-right: 0.5em;
    width: 80%;
    max-width: 700px;
    cursor: pointer;

    &:after {
      @apply text-gray-300 dark:text-gray-700;
      content: '#';
    }
  }

  a {
    @apply transition-all;
  }

  *:hover > .anchor {
    @apply visible;
  }

  .prose pre {
    @apply border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900;

    code {
      @apply text-gray-800 dark:text-gray-200 p-0;
      border: initial;
    }
  }

  .prose code {
    @apply text-gray-800 dark:text-gray-200 px-1 py-0.5 border border-gray-100 dark:border-gray-800 rounded-lg bg-gray-100 dark:bg-gray-900;
  }

  img {
    /* Don't apply styles to next/image */
    @apply m-0;
  }

  > :first-child {
    /* Override removing top margin, causing layout shift */
    margin-top: 1.25em !important;
    margin-bottom: 1.25em !important;
  }
}

.anchor:hover {
  @apply visible;
}
